<!comment This is a hive plot developed using HivePlotter.>
<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/d3.hive.v0.min.js"></script>

<script src="/Users/sperez/git/HivePlotter/tests/nodesfriends.js"></script>
<script src="/Users/sperez/git/HivePlotter/tests/edgesfriends.js"></script>
<script> 
//All the user defined parameters
var SVGTitle = 'Hive plot : friends'
var num_axis = 6
var angle = [-0.35,0.35,1.75,2.44,3.84,4.54]
var nodecolor = 'blue'
var edge_color = ['blue','red']
</script>

<script>

var nodesize = 4
    nodestroke = 0.4
    nodestrokecolor = "grey"
    
var width = 600
    height = 500
    innerRadius = 40,
    outerRadius = 240;

var linkfill = "none"
    linkwidth = 0.7
    oplink = 0.6
    opnode = 0.3
    bkgcolor = "white"
    
var radius = d3.scale.linear().range([innerRadius, outerRadius]);

var angles = d3.scale.ordinal()
    .domain(d3.range(num_axis))
    .range(angle);

var link_color = d3.scale.linear()
    .domain(d3.range(0,edge_color.length,1.0))
    .range(edge_color);

var svg = d3.select("body").append("svg")
    .attr("class", SVGTitle)
    .attr("width", width)
    .attr("height", height)
    .style("background-color", bkgcolor)
  .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

svg.selectAll(".axis")
    .data(angle)
  .enter().append("line")
    .attr("class", "axis")
    .attr("transform", function(d) { return "rotate(" + degrees(angles(d)) + ")"; })
    .attr("x1", radius.range()[0])
    .attr("x2", radius.range()[1])
    .attr("stroke-width",0.7)
    .attr("stroke", "black");

svg.selectAll(".link")
    .data(links)
  .enter().append("path")
    .attr("class", "link")
    .attr("d", d3.hive.link()
    .angle(function(d) { return angles(d.axis); })
    .radius(function(d) { return radius(d.pos); }))
    .style("fill", linkfill)
    .style("stroke-opacity", oplink)
    .style("stroke", function(d) {
        if (edge_color.length == 1){
            return edge_color}
        else {return link_color(d.type)}
        })
    .style("stroke-width", linkwidth);
  
svg.selectAll(".node")
    .data(nodes)
  .enter().append("circle")
    .attr("class", "node")
    .attr("transform", function(d) { return "rotate(" + degrees(angles(d.axis)) + ")"; })
    .attr("cx", function(d) { return radius(d.pos); })
    .attr("r", nodesize)
    .attr("stroke-width", nodestroke)
    .attr("stroke", nodestrokecolor)
    .style("fill-opacity", opnode)
    .style("fill", nodecolor);

function degrees(radians) {
  return radians / Math.PI * 180 - 90;
}

</script>
<svg class="Hive plot : friends" width="600" height="500" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color: white;"><defs xmlns="http://www.w3.org/1999/xhtml"><style type="text/css"><![CDATA[]]></style></defs><g transform="translate(300,250)"><line class="axis" transform="rotate(-110.05352282957881)" x1="40" x2="240" stroke-width="0.7" stroke="black"/><line class="axis" transform="rotate(-69.94647717042119)" x1="40" x2="240" stroke-width="0.7" stroke="black"/><line class="axis" transform="rotate(10.26761414789408)" x1="40" x2="240" stroke-width="0.7" stroke="black"/><line class="axis" transform="rotate(49.80170201192087)" x1="40" x2="240" stroke-width="0.7" stroke="black"/><line class="axis" transform="rotate(130.0157933302361)" x1="40" x2="240" stroke-width="0.7" stroke="black"/><line class="axis" transform="rotate(170.12283898939376)" x1="40" x2="240" stroke-width="0.7" stroke="black"/><path class="link" d="M68.80337082244392,81.42270054149073C24.813389249836508,103.67186558529795 -24.483037190016546,103.75037778221453 -68.5436659029466,81.64144697753225" style="fill: none; stroke-opacity: 0.6; stroke: rgb(0, 0, 255); stroke-width: 0.7px;"/><path class="link" d="M104.89290193676156,19.001029532235837C97.79888603304093,42.41388794600505 139.16582288718575,103.4429008687032 111.91842871117989,132.44555604028602" style="fill: none; stroke-opacity: 0.6; stroke: rgb(255, 0, 0); stroke-width: 0.7px;"/><path class="link" d="M170.62316318794046,30.907866049621894C159.0837414458658,68.99219671517143 85.55407566190313,63.592925216861374 68.80337082244392,81.42270054149073" style="fill: none; stroke-opacity: 0.6; stroke: rgb(255, 0, 0); stroke-width: 0.7px;"/><path class="link" d="M-59.45847981277525,-162.88722840773548C-126.11565549748191,-119.0058882511299 -166.0596819381401,-49.91735203918236 -170.829827312769,29.74441292561412" style="fill: none; stroke-opacity: 0.6; stroke: rgb(0, 0, 255); stroke-width: 0.7px;"/><path class="link" d="M-59.458479812775266,-162.88722840773548C-20.184139092394503,-172.22125457996992 12.40847305218718,-105.87535027811299 36.55290627475113,-100.13713118953059" style="fill: none; stroke-opacity: 0.6; stroke: rgb(0, 0, 255); stroke-width: 0.7px;"/><path class="link" d="M-36.552906274751116,-100.13713118953059C-12.408473052187164,-105.87535027811299 20.184139092394528,-172.22125457996992 59.45847981277528,-162.88722840773548" style="fill: none; stroke-opacity: 0.6; stroke: rgb(0, 0, 255); stroke-width: 0.7px;"/><path class="link" d="M-36.55290627475111,-100.13713118953059C-77.53130839695255,-73.16048262728054 -102.08743999195927,-30.687368669993308 -105.01995150831128,18.28578095657708" style="fill: none; stroke-opacity: 0.6; stroke: rgb(0, 0, 255); stroke-width: 0.7px;"/><path class="link" d="M68.80337082244392,81.42270054149073C24.813389249836508,103.67186558529795 -39.8251280370438,168.76468581084427 -111.49598187214767,132.80137810416596" style="fill: none; stroke-opacity: 0.6; stroke: rgb(0, 0, 255); stroke-width: 0.7px;"/><path class="link" d="M111.91842871117989,132.44555604028602C40.36249245705113,168.63697460122575 -39.8251280370438,168.76468581084427 -111.49598187214767,132.80137810416596" style="fill: none; stroke-opacity: 0.6; stroke: rgb(255, 0, 0); stroke-width: 0.7px;"/><path class="link" d="M-13.71591229821805,-37.57490851389515C-29.092423413490636,-27.452338696915778 -166.0596819381401,-49.91735203918236 -170.829827312769,29.74441292561412" style="fill: none; stroke-opacity: 0.6; stroke: rgb(255, 0, 0); stroke-width: 0.7px;"/><path class="link" d="M-13.71591229821805,-37.57490851389515C-29.092423413490636,-27.452338696915778 -102.08743999195927,-30.687368669993308 -105.01995150831128,18.28578095657708" style="fill: none; stroke-opacity: 0.6; stroke: rgb(255, 0, 0); stroke-width: 0.7px;"/><path class="link" d="M111.91842871117989,132.44555604028602C40.36249245705113,168.63697460122575 -24.483037190016546,103.75037778221453 -68.5436659029466,81.64144697753225" style="fill: none; stroke-opacity: 0.6; stroke: rgb(255, 0, 0); stroke-width: 0.7px;"/><circle class="node" transform="rotate(130.0157933302361)" cx="173.4" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(130.0157933302361)" cx="106.60000000000001" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(10.26761414789408)" cx="106.60000000000001" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(-110.05352282957881)" cx="173.4" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(-110.05352282957881)" cx="106.60000000000001" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(10.26761414789408)" cx="173.4" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(-110.05352282957881)" cx="40" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(170.12283898939376)" cx="173.4" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(170.12283898939376)" cx="106.60000000000001" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(49.80170201192087)" cx="106.60000000000001" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(-69.94647717042119)" cx="173.4" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(-69.94647717042119)" cx="106.60000000000001" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(49.80170201192087)" cx="173.4" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/><circle class="node" transform="rotate(-69.94647717042119)" cx="40" r="4" stroke-width="0.4" stroke="grey" style="fill-opacity: 0.3; fill: rgb(0, 0, 255);"/></g></svg>
